<?xml version="1.0"?>
<TriggernometryExport Version="1">
  <ExportedFolder Id="33a0de6f-0064-4f34-88c1-0af17bb23e7a" Name="ff14AuraCan6.5.1" Enabled="true">
    <Folders>
      <Folder Id="7da215a1-dfff-44eb-8a99-f18ddc937f9c" Name="频道发言朗读" Enabled="true">
        <Folders />
        <Triggers>
          <Trigger Enabled="true" Sequential="True" Name="朗读开关(开关)" Id="674fd861-c4e2-46dc-a857-62af3aff5b66" RegularExpression="^.{14} ChatLog 00:0038::(?&lt;开关&gt;开|关)(?&lt;注视&gt;注视)?(?&lt;频道&gt;说话|呼喊|喊话|悄悄话|小队|团队|部队|跨服通讯贝[1-8]|通讯贝[1-8]|情感动作|自定义情感动作|新人)$">
            <Actions>
              <Action OrderNumber="1" ActionType="SystemBeep">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="2" ListVariableOp="Split" VariableOp="SetString" VariableName="rp_tmp_频道列表" VariableExpression="说话,呼喊,喊话,悄悄话,小队,团队,部队,跨服通讯贝1,跨服通讯贝2,跨服通讯贝3,跨服通讯贝4,跨服通讯贝5,跨服通讯贝6,跨服通讯贝7,跨服通讯贝8,通讯贝1,通讯贝2,通讯贝3,通讯贝4,通讯贝5,通讯贝6,通讯贝7,通讯贝8,情感动作,自定义情感动作,新人" ActionType="Variable">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="3" ListVariableOp="Split" ListVariableName="rp_tmp_频道列表" ListVariableExpression="," ListVariableTarget="rp_tmp_频道列表" ActionType="ListVariable">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="4" VariableName="rp_tmp_频道列表" ActionType="Variable">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="5" ListVariableOp="Push" ListVariableName="rp_朗读频道列表" ListVariableExpression="${func:substring(${numeric:${lvar:rp_tmp_频道列表.indexof(${频道})}*2-2},2):0A1E0B0D0E0F18256566676869707110111213141516171D1C1B}" ListSourcePersist="True" ActionType="ListVariable" Description="rp_朗读频道列表">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${plvar:rp_朗读频道列表.indexof(${func:substring(${numeric:${lvar:rp_tmp_频道列表.indexof(${频道})}*2-2},2):0A1E0B0D0E0F18256566676869707110111213141516171D1C1B})}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
                  <ConditionSingle Enabled="true" ExpressionL="${开关}" ExpressionTypeL="String" ExpressionR="开" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                  <ConditionSingle Enabled="true" ExpressionL="${注视}" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Action>
              <Action OrderNumber="6" ListVariableOp="Push" ListVariableName="rp_注视朗读频道列表" ListVariableExpression="${func:substring(${numeric:${lvar:rp_tmp_频道列表.indexof(${频道})}*2-2},2):0A1E0B0D0E0F18256566676869707110111213141516171D1C1B}" ListSourcePersist="True" ActionType="ListVariable" Description="rp_注视朗读频道列表">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${plvar:rp_注视朗读频道列表.indexof(${func:substring(${numeric:${lvar:rp_tmp_频道列表.indexof(${频道})}*2-2},2):0A1E0B0D0E0F18256566676869707110111213141516171D1C1B})}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
                  <ConditionSingle Enabled="true" ExpressionL="${开关}" ExpressionTypeL="String" ExpressionR="开" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                  <ConditionSingle Enabled="true" ExpressionL="${注视}" ExpressionTypeL="String" ExpressionR="注视" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Action>
              <Action OrderNumber="7" ListVariableOp="Remove" ListVariableName="rp_朗读频道列表" ListVariableIndex="${plvar:rp_朗读频道列表.indexof(${func:substring(${numeric:${lvar:rp_tmp_频道列表.indexof(${频道})}*2-2},2):0A1E0B0D0E0F18256566676869707110111213141516171D1C1B})}" ListSourcePersist="True" ActionType="ListVariable" Description="rp_朗读频道列表">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${开关}" ExpressionTypeL="String" ExpressionR="关" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                  <ConditionSingle Enabled="true" ExpressionL="${注视}" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Action>
              <Action OrderNumber="8" ListVariableOp="Remove" ListVariableName="rp_注视朗读频道列表" ListVariableIndex="${plvar:rp_注视朗读频道列表.indexof(${func:substring(${numeric:${lvar:rp_tmp_频道列表.indexof(${频道})}*2-2},2):0A1E0B0D0E0F18256566676869707110111213141516171D1C1B})}" ListSourcePersist="True" ActionType="ListVariable" Description="rp_注视朗读频道列表">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${开关}" ExpressionTypeL="String" ExpressionR="关" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                  <ConditionSingle Enabled="true" ExpressionL="${注视}" ExpressionTypeL="String" ExpressionR="注视" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Action>
              <Action OrderNumber="9" ListVariableName="rp_tmp_频道列表" ActionType="ListVariable">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
          <Trigger Enabled="true" Name="聊天频道发言朗读" Id="f0296ad8-7ff3-4c7d-af98-13bef339fe42" RegularExpression="^\[(?&lt;时间&gt;.{8}).{4}\] ChatLog 00:00(?&lt;频道&gt;.{2}):(?&lt;序号&gt;(||||||||||)?)(?&lt;分组&gt;(★|●|▲|♦|♥|♠|♣)?)(?&lt;发言人&gt;.*?)(?&lt;服务器&gt;(红玉海|神意之地|拉诺西亚|幻影群岛|萌芽池|宇宙和音|沃仙曦染|晨曦王座|白银乡|白金幻象|神拳痕|潮风亭|旅人栈桥|拂晓之间|龙巢神殿|梦羽宝境|紫水栈桥|延夏|静语庄园|摩杜纳|海猫茶屋|柔风海湾|琥珀原|水晶塔|银泪湖|太阳海岸|伊修加德|红茶川)?):(?&lt;消息内容&gt;.*)$">
            <Actions>
              <Action OrderNumber="1" UseTTSTextExpression="${消息内容}" ActionType="UseTTS">
                <Condition Enabled="true" Grouping="Or">
                  <ConditionGroup Enabled="true" Grouping="And">
                    <ConditionSingle Enabled="true" ExpressionL="${plvar:rp_注视朗读频道列表.indexof(${频道})}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                    <ConditionSingle Enabled="true" ExpressionL="${lvar:rp_注视列表.indexof(${_ffxiventity[${发言人}].id})}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                  </ConditionGroup>
                  <ConditionSingle Enabled="true" ExpressionL="${plvar:rp_朗读频道列表.indexof(${频道})}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                  <ConditionGroup Enabled="true" Grouping="And">
                    <ConditionSingle Enabled="true" ExpressionL="${消息内容}" ExpressionTypeL="String" ExpressionR="${pvar:rp_关键字}" ExpressionTypeR="String" ConditionType="RegexMatch" />
                    <ConditionSingle Enabled="true" ExpressionL="${epvar:rp_关键字}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
                  </ConditionGroup>
                </Condition>
              </Action>
            </Actions>
            <Condition Enabled="true" Grouping="And">
              <ConditionSingle Enabled="true" ExpressionL="${发言人}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="RegexNotMatch" />
              <ConditionGroup Enabled="true" Grouping="Or">
                <ConditionSingle Enabled="true" ExpressionL="${消息内容}" ExpressionTypeL="String" ExpressionR="${pvar:rp_屏蔽字}" ExpressionTypeR="String" ConditionType="RegexNotMatch" />
                <ConditionSingle Enabled="true" ExpressionL="${epvar:rp_屏蔽字}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
              </ConditionGroup>
            </Condition>
          </Trigger>
          <Trigger Enabled="true" Sequential="True" Name="屏蔽字设置(设置)" Id="14ea9120-65c8-42e9-9b12-7b05e99ff528" RegularExpression="^.{14} ChatLog 00:0038::屏蔽(?&lt;屏蔽词&gt;.+)$">
            <Actions>
              <Action OrderNumber="1" ActionType="SystemBeep">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="2" VariableOp="SetString" VariableName="rp_tmp屏蔽字" VariableExpression="${屏蔽词}" ActionType="Variable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="3" ListVariableOp="Split" ListVariableName="rp_tmp屏蔽字" ListVariableExpression="❘" ListVariableTarget="rp_tmp屏蔽字" VariableOp="SetString" VariableName="rp_switch" VariableExpression="${value}" ActionType="ListVariable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="4" ListVariableOp="Join" ListVariableName="rp_tmp屏蔽字" ListVariableExpression="|" ListVariableTarget="rp_屏蔽字" ListTargetPersist="True" ActionType="ListVariable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="5" ListVariableName="rp_tmp屏蔽字" ActionType="ListVariable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="6" VariableName="rp_tmp屏蔽字" ActionType="Variable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
          <Trigger Enabled="true" Name="关键字设置(设置)" Id="d5bf2514-5d76-4893-ada9-7b1ee2a0419c" RegularExpression="^.{14} ChatLog 00:0038::关键字(?&lt;关键字&gt;.+)$">
            <Actions>
              <Action OrderNumber="1" ActionType="SystemBeep">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="2" VariableOp="SetString" VariableName="rp_tmp关键字" VariableExpression="${关键字}" ActionType="Variable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="3" ListVariableOp="Split" ListVariableName="rp_tmp关键字" ListVariableExpression="❘" ListVariableTarget="rp_tmp关键字" VariableOp="SetString" VariableName="rp_switch" VariableExpression="${value}" ActionType="ListVariable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="4" ListVariableOp="Join" ListVariableName="rp_tmp关键字" ListVariableExpression="|" ListVariableTarget="rp_关键字" ListTargetPersist="True" ActionType="ListVariable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="5" ListVariableName="rp_tmp关键字" ActionType="ListVariable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="6" VariableName="rp_tmp关键字" ActionType="Variable" Asynchronous="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
        </Triggers>
      </Folder>
      <Folder Id="77717e35-b41f-4fe1-845d-9cebe3a76436" Name="玩家列表维护与日志生成" Enabled="true">
        <Folders />
        <Triggers>
          <Trigger Enabled="true" Name="定时任务" Id="2bd83167-b532-4b9d-8b55-b4c7e45b839d" RegularExpression="." PeriodRefire="Deny" RefirePeriodExpression="500">
            <Actions>
              <Action OrderNumber="1" TriggerId="2bd83167-b532-4b9d-8b55-b4c7e45b839d" TriggerForce="regexp" ActionType="Trigger" ExecutionDelayExpression="500" RefireRequeue="False">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
              <Action OrderNumber="2" LoopDelayExpression="0" LoopInitExpression="1" ActionType="Loop" Description="玩家列表遍历">
                <LoopCondition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${_loopiterator}" ExpressionTypeL="Numeric" ExpressionR="${lvar:rp_玩家列表.size}" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
                </LoopCondition>
                <LoopActions>
                  <Action OrderNumber="1" LogMessageText="rp03|${lvar:rp_玩家列表[${_loopiterator}]}|${_ffxiventity[${lvar:rp_玩家列表[${_loopiterator}]}].worldname}|${_ffxiventity[${lvar:rp_玩家列表[${_loopiterator}]}].name}|注视" LogProcess="True" LogLevel="Info" ActionType="LogMessage" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxiventity[${lvar:rp_玩家列表[${_loopiterator}]}].targetid}" ExpressionTypeL="String" ExpressionR="${_ffxiventity[${_ffxivplayer}].id}" ExpressionTypeR="String" ConditionType="RegexMatch" />
                      <ConditionSingle Enabled="true" ExpressionL="${lvar:rp_注视列表.indexof(${lvar:rp_玩家列表[${_loopiterator}]})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="RegexMatch" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="2" LogLevel="Info" VariableOp="SetString" VariableName="${lvar:rp_玩家列表[${_loopiterator}]}" VariableExpression="${_ffxiventity[${lvar:rp_玩家列表[${_loopiterator}]}].worldname}|${_ffxiventity[${lvar:rp_玩家列表[${_loopiterator}]}].name}" ActionType="Variable" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxiventity[${lvar:rp_玩家列表[${_loopiterator}]}].targetid}" ExpressionTypeL="String" ExpressionR="${_ffxiventity[${_ffxivplayer}].id}" ExpressionTypeR="String" ConditionType="RegexMatch" />
                      <ConditionSingle Enabled="true" ExpressionL="${lvar:rp_注视列表.indexof(${lvar:rp_玩家列表[${_loopiterator}]})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="RegexMatch" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="3" ListVariableOp="Push" ListVariableName="rp_注视列表" ListVariableExpression="${lvar:rp_玩家列表[${_loopiterator}]}" UseTTSTextExpression="${_ffxiventity[${玩家id}].name}在看你" ActionType="ListVariable" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxiventity[${lvar:rp_玩家列表[${_loopiterator}]}].targetid}" ExpressionTypeL="String" ExpressionR="^${_ffxivparty[1].id}$" ExpressionTypeR="String" ConditionType="RegexMatch" />
                      <ConditionSingle Enabled="true" ExpressionL="${lvar:rp_注视列表.indexof(${lvar:rp_玩家列表[${_loopiterator}]})}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="RegexMatch" />
                    </Condition>
                  </Action>
                </LoopActions>
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${lvar:rp_玩家列表.size}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                </Condition>
              </Action>
              <Action OrderNumber="3" LoopDelayExpression="0" LoopInitExpression="1" ActionType="Loop" Description="注视列表遍历">
                <LoopCondition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${_loopiterator}" ExpressionTypeL="Numeric" ExpressionR="${lvar:rp_注视列表.size}" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
                </LoopCondition>
                <LoopActions>
                  <Action OrderNumber="1" LogMessageText="rp04|${lvar:rp_注视列表[${_loopiterator}]}|${var:${lvar:rp_注视列表[${_loopiterator}]}}|不看" LogProcess="True" LogLevel="Info" ActionType="LogMessage" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxiventity[${lvar:rp_注视列表[${_loopiterator}]}].targetid}" ExpressionTypeL="String" ExpressionR="^${_ffxivparty[1].id}$" ExpressionTypeR="String" ConditionType="RegexNotMatch" />
                      <ConditionSingle Enabled="true" ExpressionL="${epvar:rp_不看}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="2" LogLevel="Info" VariableName="${lvar:rp_注视列表[${_loopiterator}]}" ActionType="Variable" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxiventity[${lvar:rp_注视列表[${_loopiterator}]}].targetid}" ExpressionTypeL="String" ExpressionR="^${_ffxivparty[1].id}$" ExpressionTypeR="String" ConditionType="RegexNotMatch" />
                      <ConditionSingle Enabled="true" ExpressionL="${epvar:rp_不看}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="3" ListVariableOp="Remove" ListVariableName="rp_注视列表" ListVariableIndex="${lvar:rp_注视列表.indexof(${lvar:rp_注视列表[${_loopiterator}]})}" ActionType="ListVariable" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxiventity[${lvar:rp_注视列表[${_loopiterator}]}].targetid}" ExpressionTypeL="String" ExpressionR="^${_ffxivparty[1].id}$" ExpressionTypeR="String" ConditionType="RegexNotMatch" />
                    </Condition>
                  </Action>
                </LoopActions>
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${lvar:rp_注视列表.size}" ExpressionTypeL="Numeric" ExpressionR="0" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                </Condition>
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
          <Trigger Enabled="true" Name="更换地图" Id="5da442b8-78bc-4b0e-8d0f-035e5ff597b1" RegularExpression="^\[(?&lt;时间&gt;.{8}).{4}\] ChangeMap 28:(?&lt;地区id&gt;.*):(?&lt;一级&gt;.*):(?&lt;二级&gt;.*):(?&lt;三级&gt;.*)$">
            <Actions>
              <Action OrderNumber="1" ListVariableName="rp_注视列表" ActionType="ListVariable">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${三级}" ExpressionTypeL="String" ExpressionR="层$" ExpressionTypeR="String" ConditionType="RegexNotMatch" />
                </Condition>
              </Action>
              <Action OrderNumber="2" ListVariableName="rp_入场列表" ActionType="ListVariable">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${三级}" ExpressionTypeL="String" ExpressionR="层$" ExpressionTypeR="String" ConditionType="RegexNotMatch" />
                </Condition>
              </Action>
              <Action OrderNumber="3" ListVariableName="rp_玩家列表" ActionType="ListVariable">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${三级}" ExpressionTypeL="String" ExpressionR="层$" ExpressionTypeR="String" ConditionType="RegexNotMatch" />
                </Condition>
              </Action>
              <Action OrderNumber="4" ListVariableOp="Push" LogMessageText="rp00|${_ffxiventity[${_ffxivplayer}].id}|${时间}|${_ffxiventity[${_ffxivplayer}].worldname}|${_ffxivplayer}|${地区id}|${一级}|${二级}|${三级}|更换地图" LogProcess="True" LogLevel="Info" ActionType="LogMessage">
                <Condition Enabled="true" Grouping="Or" />
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
          <Trigger Enabled="true" Name="玩家列表维护" Id="ac5cc34b-f3e4-4047-a48e-f3942cdcc694" RegularExpression="^\[(?&lt;时间&gt;.{8}).{4}\] (AddCombatant|RemoveCombatant) (?&lt;状态&gt;03|04):(?&lt;玩家ID&gt;.{8}):(?&lt;玩家名&gt;[^:]*)(:[^:]*?){4}:(?&lt;服务器&gt;[^:]*):0:">
            <Actions>
              <Action OrderNumber="1" ListVariableOp="Push" ListVariableName="rp_玩家列表" ListVariableExpression="${玩家ID}" ActionType="ListVariable">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${状态}" ExpressionTypeL="String" ExpressionR="03" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                  <ConditionSingle Enabled="true" ExpressionL="rp_玩家列表" ExpressionTypeL="String" ExpressionR="${玩家ID}" ExpressionTypeR="String" ConditionType="ListDoesNotContain" />
                  <ConditionSingle Enabled="true" ExpressionL="${玩家ID}" ExpressionTypeL="String" ExpressionR="${_ffxiventity[${_ffxivplayer}].id}" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
                </Condition>
              </Action>
              <Action OrderNumber="2" ListVariableOp="Push" LogMessageText="rp01|${玩家ID}|${时间}|${服务器}|${玩家名}|入场" LogProcess="True" LogLevel="Info" ActionType="LogMessage">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${状态}" ExpressionTypeL="String" ExpressionR="03" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                  <ConditionSingle Enabled="true" ExpressionL="rp_玩家列表" ExpressionTypeL="String" ExpressionR="${玩家ID}" ExpressionTypeR="String" ConditionType="ListDoesNotContain" />
                  <ConditionSingle Enabled="true" ExpressionL="${玩家ID}" ExpressionTypeL="String" ExpressionR="${_ffxiventity[${_ffxivplayer}].id}" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
                </Condition>
              </Action>
              <Action OrderNumber="3" ListVariableOp="Remove" ListVariableName="rp_玩家列表" ListVariableIndex="${lvar:rp_玩家列表.indexof(${玩家ID})}" ActionType="ListVariable">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${状态}" ExpressionTypeL="String" ExpressionR="04" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Action>
              <Action OrderNumber="4" ListVariableOp="Push" LogMessageText="rp02|${玩家ID}|${时间}|${服务器}|${玩家名}|离场" LogProcess="True" LogLevel="Info" ActionType="LogMessage">
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${状态}" ExpressionTypeL="String" ExpressionR="04" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
        </Triggers>
      </Folder>
      <Folder Id="33ff26bd-c5ae-4b2b-a721-2d189ee8fe44" Name="频道日志加工" Enabled="true">
        <Folders />
        <Triggers>
          <Trigger Enabled="true" Name="跨服贝、说话、喊话、悄悄话、呼喊、部队、新人" Id="242d2ad8-7c39-43d7-9a23-9c92495e374b" RegularExpression="^\[(?&lt;时间&gt;.{8}).{4}\] ChatLog 00:00(?&lt;频道&gt;25|65|66|67|68|69|70|71|0A|0B|0D|1E|18|1B):(?&lt;分组&gt;(★|●|▲|♦|♥|♠|♣)?)(?&lt;发言人&gt;.*?)(?&lt;服务器&gt;(红玉海|神意之地|拉诺西亚|幻影群岛|萌芽池|宇宙和音|沃仙曦染|晨曦王座|白银乡|白金幻象|神拳痕|潮风亭|旅人栈桥|拂晓之间|龙巢神殿|梦羽宝境|紫水栈桥|延夏|静语庄园|摩杜纳|海猫茶屋|柔风海湾|琥珀原|水晶塔|银泪湖|太阳海岸|伊修加德|红茶川)?):(?&lt;消息内容&gt;.*)$">
            <Actions>
              <Action OrderNumber="1" ListVariableOp="Push" LogMessageText="rp05|${发言人}|${频道}|${func:trim:${func:substring(${numeric:${func:lastindexof(${频道}):25656667686970710A0B0D0E1C1D1E181B}*2},4):跨服贝1跨服贝2跨服贝3跨服贝4跨服贝5跨服贝6跨服贝7跨服贝8  说话  喊话 悄悄话  小队情感动作情感动作  呼喊  部队  新人}}|${func:trim:${func:substring(${numeric:${func:lastindexof(${频道}):25656667686970710A0B0D0E1C1D1E181B}*2},4):cwl1cwl2cwl3cwl4cwl5cwl6cwl7cwl8   s  sh   t   p  em  em   y  fc   b}}|[${时间}][${func:trim:${func:substring(${numeric:${func:lastindexof(${频道}):25656667686970710A0B0D0E1C1D1E181B}*2},4):跨服贝1跨服贝2跨服贝3跨服贝4跨服贝5跨服贝6跨服贝7跨服贝8  说话  喊话 悄悄话  小队情感动作情感动作  呼喊  部队  新人}}]${发言人}${服务器}:${消息内容}" LogProcess="True" LogLevel="Info" ActionType="LogMessage" Description="除小队与两种情感动作">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
          <Trigger Enabled="true" Name="小队" Id="c3c88e49-b78c-4c66-94ea-6d01f491add7" RegularExpression="^\[(?&lt;时间&gt;.{8}).{4}\] ChatLog 00:000E:(?&lt;序号&gt;(||||||||||)?)(?&lt;分组&gt;(★|●|▲|♦|♥|♠|♣)?)(?&lt;发言人&gt;.*?)(?&lt;服务器&gt;(红玉海|神意之地|拉诺西亚|幻影群岛|萌芽池|宇宙和音|沃仙曦染|晨曦王座|白银乡|白金幻象|神拳痕|潮风亭|旅人栈桥|拂晓之间|龙巢神殿|梦羽宝境|紫水栈桥|延夏|静语庄园|摩杜纳|海猫茶屋|柔风海湾|琥珀原|水晶塔|银泪湖|太阳海岸|伊修加德|红茶川)?):(?&lt;消息内容&gt;.*)$">
            <Actions>
              <Action OrderNumber="1" ListVariableOp="Push" LogMessageText="rp05|${发言人}|0E|小队|p|[${时间}][小队][${numeric:${func:lastindexof(${序号}):}+1}]${发言人}${服务器}:${消息内容}" LogProcess="True" LogLevel="Info" ActionType="LogMessage" Description="除小队与两种情感动作">
                <Condition Enabled="false" Grouping="Or" />
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
          <Trigger Enabled="true" Name="情感动作" Id="5495f6d6-4e82-4ccb-8203-a0ec630be938" RegularExpression="^\[(?&lt;时间&gt;.{8}).{4}\] ChatLog 00:00(?&lt;频道&gt;1C|1D):(?&lt;分组&gt;(★|●|▲|♦|♥|♠|♣)?)(?&lt;发言人&gt;.*?)(?&lt;服务器&gt;(红玉海|神意之地|拉诺西亚|幻影群岛|萌芽池|宇宙和音|沃仙曦染|晨曦王座|白银乡|白金幻象|神拳痕|潮风亭|旅人栈桥|拂晓之间|龙巢神殿|梦羽宝境|紫水栈桥|延夏|静语庄园|摩杜纳|海猫茶屋|柔风海湾|琥珀原|水晶塔|银泪湖|太阳海岸|伊修加德|红茶川)?):(?&lt;消息内容&gt;.*)$">
            <Actions>
              <Action OrderNumber="1" ListVariableOp="Push" LogMessageText="rp05|${发言人}|1C|文本指令|em|[${时间}][文本指令]${发言人}${服务器}${消息内容}" LogProcess="True" LogLevel="Info" ActionType="LogMessage" Description="除小队与两种情感动作">
                <Condition Enabled="true" Grouping="Or">
                  <ConditionSingle Enabled="true" ExpressionL="${频道}" ExpressionTypeL="String" ExpressionR="1C" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Action>
              <Action OrderNumber="2" ListVariableOp="Push" LogMessageText="rp05|${发言人}|1D|情感动作|em|[${时间}][情感动作]${消息内容}" LogProcess="True" LogLevel="Info" ActionType="LogMessage" Description="除小队与两种情感动作">
                <Condition Enabled="true" Grouping="Or">
                  <ConditionSingle Enabled="true" ExpressionL="${频道}" ExpressionTypeL="String" ExpressionR="1D" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Action>
            </Actions>
            <Condition Enabled="false" Grouping="Or" />
          </Trigger>
        </Triggers>
      </Folder>
    </Folders>
    <Triggers />
  </ExportedFolder>
</TriggernometryExport>